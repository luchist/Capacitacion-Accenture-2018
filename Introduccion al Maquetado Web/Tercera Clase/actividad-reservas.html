<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> PROFE SE ROMPIO </title>
    <link rel="icon" type="image/png" href="https://vignette.wikia.nocookie.net/fantendo/images/f/fa/SSB_Pok%C3%A9mon_Classic.png/revision/latest?cb=20160327201140">
    <style type="text/css">

    @font-face {
        font-family: "Pokemon GB";
        src: url("Pokemon GB.ttf");
    }

    .sala{
        display: flex;
        text-align: center;
        justify-content: center;
        font-size: 24px;
        font-family: Consolas;
        padding: 0 10%;
    }

    .sala div{
        border-style: dashed;
        padding: 40px;
    }

    .sala div:hover{
        border-style: none;
        font-size: 40;
        font-weight: bolder;
    }


    .body{
        margin:0;
    }

    #console{
        font-family: Pokemon GB;
        font-size: 11px;
        font-weight: bold;
        color: #040603;
        background-color: #C1C6C2;
        width: 500px;
        border-style: groove;
        border-color: grey;

        -webkit-transition: color 3s; /* For Safari 3.0 to 6.0 */
        transition: color 3s; /* For modern browsers */
    }

    #console:hover{
      border-style: dotted;
    	border-color: brightgreen;
      font-size: 12px;
    }

    #consolapadre{
        display: flex;
        justify-content: center;
    }

    .reservado {
        background-color: red;
    }

    .libre {
        background-color: green;
    }

    .botones{
      text-align: center;
      padding: 20px 10px 20px 10px;
    }

</style>

</head>

<body>
  <br>
  <br>
    <header>
        <div class="sala">

            <div class="reservado"> 1
            </div>

            <div class="reservado"> 2
            </div>

            <div class="libre"> 3
            </div>

            <div class="reservado"> 4
            </div>

            <div class="libre"> 5
            </div>

            <div class="libre"> 6
            </div>

             <div class="libre"> 7
            </div>

             <div class="libre"> 8
            </div>

             <div class="libre"> 9
            </div>

             <div class="reservado"> 10
            </div>

             <div class="reservado"> 11
            </div>

             <div class="reservado"> 12
            </div>

        </div>
    </header>

    <div class="botones">

      <button id="botonliberar" style="background-color: green; color: white; font-weight: bold; font-family:Consolas">
          Liberar todos
      </button>

      <button id="botonreservar" style="background-color:red; color: white; font-weight: bold; font-family:Consolas">
          Reservar todos
      </button>

      <button id="botoninfolibres" style="background-color: #C1C6C2; font-weight: bold; font-family:Consolas">
          Ver asientos libres
      </button>

    </div>

    <div id="consolapadre">

        <div id="console">
            Consola: <br>
        </div>

    </div>



</body>

<script type="text/javascript" >

//consola pkmn
let consola = document.querySelector('#console')

var asientos = document.querySelectorAll(".sala div");
var cont = asientos.length
console.log("la cantidad total de asientos es " + cont)
console.log("los asientos son: ")
console.log(asientos)
//var libres = document.querySelectorAll(".libre");
//var boton = document.querySelector('#boton');


//botones para liberar / reservar todo
botonliberar.onclick=function () {
    console.log("aprete el boton para liberar todos los asientos!")
    for (var i = 0; i < cont; i++) {
        asientos[i].classList.remove('reservado')
        asientos[i].className = 'libre'
    }
}

botonreservar.onclick=function () {
    console.log("aprete el boton para reservar todos los asientos!")
    for (var i = 0; i < cont; i++) {
        asientos[i].classList.remove('libre')
        asientos[i].className = 'reservado'
    }
}

//boton que muestra los asientos libres
botoninfolibres.onclick=function () {
    console.log("aprete el boton para ver informacion!")
    let libres = 0;
    for (var i = 0; i < cont; i++) {
        if (asientos[i].classList.contains('libre')){
            libres++
        }
    }
    console.log("HAY " + libres + " asientos libres!");
    consola_log("HAY " + libres + " asientos libres!");
    //consola.innerText += '> HAY ' + libres + ' asientos libres!\n'
}


/* no funca esto!! hay que usar addEventListener
for (var i = 0; i < libres.length; i++) {
    libres[i].onclick=function(){
        console.log("aprete un asiento libre!")
        asientos[i].style.backgroundColor ="red" //aca no puedo hacer referencia a cada asiento individual
    }
}
*/

//solucion del profe
for (var i = 0; i < cont; i++) {
    let asiento = asientos[i]
    asiento.addEventListener("click", color)
    console.log("agreguÃ© listener a un asiento")
    console.log(asiento[i])
    function color(){
        //si esta ocupado lo libero
        console.log("clickee un asiento!!!")
        console.log(this)

        //preguntas si pertenece a la clase reservado
        if (asiento.classList.contains('reservado')){
            console.log("cambie color a un asiento rojo -> verde")
            //hago el cambio de clase
            asiento.classList.remove('reservado')
            asiento.className = 'libre'

        //sino, pregunta si pertenece a la clase libre
        } else if (asiento.classList.contains('libre')){
            console.log("cambie color a un asiento verde -> rojo")
            //hago el cambio de clase
            asiento.classList.remove('libre')
            asiento.className = 'reservado'
        }
    }
}

//muestro el string por la consola del juego, agregando doble enter al final
function consola_log(string){
    consola.innerText += string + '!\n\n' //mejor espaciado entre oraciones
}

console.log("asientos")

//Una mejor solucion es utilizar clases
//DONE



</script>
</html>
